<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enviar Dinero</title>
    <!-- Bootstrap 4 CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.6.2/css/bootstrap.min.css">
<!--estilos personalizados css-->
    <link rel="stylesheet" href="css/style.css">
</head>

<body class="container py5">
    <h2 class="text-center mb-4">Enviar Dinero</h2>
    <!--aca va el contenido de la pagina enviar dinero-->
    <form class="mx-auto" style="max-width:400px;">
        <div class="mb-3"> <label for="destinatario" class="form-label">Destinatario</label> <input type="text"
                class="form-control" id="destinatario" placeholder="Usuario o correo"> </div>
        <div class="mb-3"> <label for="monto" class="form-label">Monto a enviar</label> <input type="number"
                class="form-control" id="monto" placeholder="$0.00"> </div> <button type="submit"
            class="btn btn-primary w-100">Enviar</button>
    </form>
    <!-- Botón de regreso al menú -->
<div class="text-center mt-4">
  <a href="menu.html" class="btn btn-outline-dark">Volver al Menú</a>
</div>
<script>
  const form = document.querySelector("form");
  const montoInput = document.getElementById("monto");
  const destinatarioInput = document.getElementById("destinatario");

  form.addEventListener("submit", function(event) {
    event.preventDefault();

    const monto = parseFloat(montoInput.value);
    const destinatario = destinatarioInput.value.trim();

    if (isNaN(monto) || monto <= 0 || destinatario === "") {
      alert("Por favor ingresa un monto válido y un destinatario.");
    } else {
      alert("Has enviado $" + monto.toFixed(2) + " a " + destinatario);
      montoInput.value = "";
      destinatarioInput.value = "";
    }
  });
</script>

<!-- jQuery (necesario para Bootstrap 4) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Bootstrap 4 JS -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.6.2/js/bootstrap.min.js"></script>

<script>
 // Mostrar/ocultar formulario de nuevo contacto 
 $('#btnNuevo').click(()=> $('#formNuevoContacto').show()); $('#btnCancelar').click(()=> $('#formNuevoContacto').hide()); // Guardar nuevo contacto en el select $('#formNuevoContacto').submit(function(event){ event.preventDefault(); const nombre = $('#nombre').val(); const cbu = $('#cbu').val(); if(nombre && cbu){ $('#contacto').append(`<option value="${nombre}">${nombre} - CBU: ${cbu}</option>`); $('#alert-container').html(` <div class="alert alert-success" role="alert"> Contacto ${nombre} agregado correctamente. </div> `); $('#formNuevoContacto').hide(); $('#formNuevoContacto')[0].reset(); } });

// Habilitar botón enviar solo si hay contacto seleccionado 
$('#contacto').change(function(){ if($(this).val()){ $('#btnEnviar').prop('disabled', false); } else { $('#btnEnviar').prop('disabled', true); } });

// Enviar dinero 
$('#sendForm').submit(function(event){ event.preventDefault(); 
  const monto = parseFloat($('#monto').val()); const contacto = $('#contacto').val(); 
  if(!contacto){ $('#alert-container').html(` <div class="alert alert-danger" role="alert"> Debes seleccionar un contacto. </div> `); return; } if(isNaN(monto) || monto <= 0){ $('#alert-container').html(` <div class="alert alert-danger" role="alert"> Monto inválido. </div> `); return; } $('#alert-container').html(` <div class="alert alert-success" role="alert"> Has enviado $${monto.toFixed(2)} a ${contacto}. </div> `);
// Redirigir al menú después de 2 segundos 
setTimeout(()=> window.location.href="menu.html",2000); }); 
</script>
  </body>

</html>